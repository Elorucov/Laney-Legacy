<UserControl
    x:Class="Elorucov.Laney.Controls.MessageAttachments.VideoMessageControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Elorucov.Laney.Controls.MessageAttachments"
    xmlns:vkui="using:VK.VKUI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="216"
    d:DesignWidth="216">

    <Grid>
        <Viewbox>
            <Canvas x:Name="FigureRoot" Width="216" Height="216">
                <Canvas.RenderTransform>
                    <!-- ScaleTransform нужен для того, чтобы рамка (Path Stroke) не выпиралась наружу и не обрезалась -->
                    <ScaleTransform CenterX="108" CenterY="108" ScaleX="0.9907" ScaleY="0.9907"/>
                </Canvas.RenderTransform>
            </Canvas>
        </Viewbox>

        <HyperlinkButton HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Padding="0" Background="Transparent" Click="PlayVideo">
            <Canvas Width="40" Height="40">
                <Ellipse Width="40" Height="40" Fill="#30000000" Stroke="White" StrokeThickness="1"/>
                <Path Fill="White" Data="M15,13 L15,26 L26,19.5 Z"/>
            </Canvas>
        </HyperlinkButton>
                
        <Button x:Name="TranscriptButton" Visibility="Collapsed" Width="36" Height="26" Margin="8,0,0,0" Padding="0" HorizontalAlignment="Right" VerticalAlignment="Top" Style="{StaticResource VKButtonSecondaryMedium}" Background="#80000000" Foreground="White" RequestedTheme="Dark" Click="ShowTranscript">
            <vkui:VKIcon Id="Icon24TextOutline" Margin="2" Width="24" Height="24"/>
        </Button>

        <Border CornerRadius="11" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="4,0,0,0" Background="#80000000" RequestedTheme="Dark">
            <TextBlock x:Name="Duration" Foreground="White" FontSize="11" Margin="8,2,8,4" Text="-:--"/>
        </Border>
    </Grid>
</UserControl>
