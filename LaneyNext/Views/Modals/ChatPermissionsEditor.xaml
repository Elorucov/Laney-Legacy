<elor:Modal
    x:Class="Elorucov.Laney.Views.Modals.ChatPermissionsEditor"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Elorucov.Laney.Views.Modals"
    xmlns:elor="using:Elorucov.Toolkit.UWP.Controls"
    xmlns:vkui="using:VK.VKUI.Controls"
    xmlns:data="using:Elorucov.Laney.DataModels"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d" Padding="0"
    Style="{ThemeResource VKUIDefaultModalStyle}" Title="{x:Bind Converter={StaticResource loc}, ConverterParameter=chatinfo_permissions}">
    <elor:Modal.Resources>
        <Style TargetType="vkui:CellButton">
            <Setter Property="Padding" Value="0"/>
        </Style>
    </elor:Modal.Resources>
    <ListView x:Name="SettingsList" Margin="0,8" ItemsSource="{Binding Permissions}" SelectionMode="None" IsItemClickEnabled="True" ItemClick="ShowOptionsContextMenu">
        <ListView.ItemTemplate>
            <DataTemplate x:DataType="data:ChatPermissionItem">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Border Width="28" Height="28" Margin="12" CornerRadius="14" Background="{x:Bind IconBackground}">
                        <Image HorizontalAlignment="Center" VerticalAlignment="Center" Stretch="None" Width="16" Height="16">
                            <Image.Source>
                                <SvgImageSource RasterizePixelWidth="48" RasterizePixelHeight="48" UriSource="{x:Bind IconPath}"/>
                            </Image.Source>
                        </Image>
                    </Border>
                    <TextBlock Grid.Column="1" VerticalAlignment="Center" Margin="0,-19,0,0" FontSize="15" TextTrimming="CharacterEllipsis" Text="{x:Bind Title}"/>
                    <TextBlock Grid.Column="1" VerticalAlignment="Center" Margin="0,18,0,0" FontSize="13" TextTrimming="CharacterEllipsis" Foreground="{ThemeResource VKTextSecondaryBrush}" Text="{x:Bind Subtitle, Mode=OneWay}"/>
                </Grid>
            </DataTemplate>
        </ListView.ItemTemplate>
        <ListView.ItemContainerStyle>
            <Style TargetType="ListViewItem">
                <Setter Property="Padding" Value="0"/>
                <Setter Property="HorizontalAlignment" Value="Stretch"/>
                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            </Style>
        </ListView.ItemContainerStyle>
    </ListView>
</elor:Modal>