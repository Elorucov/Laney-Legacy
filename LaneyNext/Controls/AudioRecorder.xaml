<UserControl
    x:Class="Elorucov.Laney.Controls.AudioRecorder"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Elorucov.Laney.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    IsTabStop="True"
    mc:Ignorable="d"
    d:DesignHeight="52"
    d:DesignWidth="360">

    <UserControl.Resources>
        <Style x:Key="RecordUIButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="{ThemeResource VKDynamicBlueBrush}"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="Width" Value="24"/>
            <Setter Property="Height" Value="24"/>
            <Setter Property="Template" Value="{StaticResource EllipseButtonTemplate}"/>
        </Style>
        
        <Storyboard x:Name="PanelShow" Duration="0:0:0.4">
            <DoubleAnimation Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.15"/>
            <DoubleAnimation Storyboard.TargetName="PanelTransform" Storyboard.TargetProperty="TranslateY" From="52" To="0" BeginTime="0:0:0.15" Duration="0:0:0.25">
                <DoubleAnimation.EasingFunction>
                    <QuarticEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        <Storyboard x:Name="PanelHide" Completed="PanelHide_Completed" Duration="0:0:0.4">
            <DoubleAnimation Storyboard.TargetName="PanelTransform" Storyboard.TargetProperty="TranslateY" From="0" To="52" Duration="0:0:0.25">
                <DoubleAnimation.EasingFunction>
                    <QuarticEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity" From="1" To="0" BeginTime="0:0:0.25" Duration="0:0:0.15"/>
        </Storyboard>
    </UserControl.Resources>

    <Grid x:Name="Root" Background="{ThemeResource VKBackgroundContentBrush}" Height="52" VerticalAlignment="Bottom">
        <Grid x:Name="MainGrid" Padding="4,0">
            <Grid.RenderTransform>
                <CompositeTransform x:Name="PanelTransform" TranslateY="52"/>
            </Grid.RenderTransform>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Grid x:Name="RecorderGrid" Grid.Column="1" Margin="4,8" Height="36" CornerRadius="18" RequestedTheme="Dark" VerticalAlignment="Bottom" Background="{ThemeResource VKDynamicBlueBrush}">
                <Grid x:Name="RecordUI">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Button x:Name="StopButton" Visibility="Collapsed" Margin="6" Style="{StaticResource RecordUIButtonStyle}" ContentTemplate="{StaticResource Icon8Stop}" Click="StopButton_Click"/>
                    <Button x:Name="PlayButton" Visibility="Collapsed" Margin="6" Style="{StaticResource RecordUIButtonStyle}" ContentTemplate="{StaticResource Icon8Play}" Click="PlayButton_Click"/>
                    <Button x:Name="PauseButton" Visibility="Collapsed" Margin="6" Style="{StaticResource RecordUIButtonStyle}" ContentTemplate="{StaticResource Icon8Pause}" Click="PauseButton_Click"/>
                    <TextBlock x:Name="Status" Grid.Column="1" FontSize="12" FontWeight="SemiBold" VerticalAlignment="Center" Margin="12,0,12,1"/>
                    <Border Grid.Column="2" Margin="12,0">
                        <TextBlock x:Name="Duration" FontSize="12" FontWeight="SemiBold" VerticalAlignment="Center" Margin="0,0,0,1"/>
                    </Border>
                </Grid>
            </Grid>

            <Button VerticalAlignment="Bottom" Style="{StaticResource MessageInputVKUIButtonStyle}" ContentTemplate="{StaticResource Icon28CancelOutline}" Click="HideControl"/>

            <StackPanel Grid.Column="2" VerticalAlignment="Bottom" Orientation="Horizontal">
                <Button x:Name="SendMsgButton" Style="{StaticResource MessageInputVKUIButtonStyle}" ContentTemplate="{StaticResource Icon28Send}" Click="Send"/>
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>
