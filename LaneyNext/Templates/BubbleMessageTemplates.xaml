<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <DataTemplate x:Key="DefaultIncomingBubbleTemplate">
        <StackPanel CornerRadius="16" Background="{ThemeResource BubbleIncomingBackgroundBrush}"/>
    </DataTemplate>
    <DataTemplate x:Key="DefaultOutgoingBubbleTemplate">
        <StackPanel CornerRadius="16" Background="{ThemeResource BubbleOutgoingBackgroundBrush}"/>
    </DataTemplate>
    <DataTemplate x:Key="GiftBubbleTemplate">
        <StackPanel CornerRadius="16" Background="{ThemeResource BubbleGiftBrush}"/>
    </DataTemplate>
    <ControlTemplate x:Key="InlineKeyboardContainerTemplate">
        <ContentPresenter CornerRadius="0,0,16,16" Background="{ThemeResource BubbleIncomingBackgroundBrush}"/>
    </ControlTemplate>
    <ControlTemplate x:Key="TimeInBubbleIncomingTemplate" TargetType="ContentControl">
        <Border CornerRadius="12,8,16,12" HorizontalAlignment="Center" Background="{ThemeResource BubbleIncomingBackgroundBrush}">
            <ContentPresenter FontSize="12" Margin="8,4,8,4" Foreground="{ThemeResource BubbleForegroundSecondaryBrush}" Content="{TemplateBinding Content}"/>
        </Border>
    </ControlTemplate>
    <ControlTemplate x:Key="TimeInBubbleOutgoingTemplate" TargetType="ContentControl">
        <Border CornerRadius="12,8,16,12" HorizontalAlignment="Center" Background="{ThemeResource BubbleOutgoingBackgroundBrush}">
            <ContentPresenter FontSize="12" Margin="8,4,8,4" Foreground="{ThemeResource BubbleForegroundSecondaryBrush}" Content="{TemplateBinding Content}"/>
        </Border>
    </ControlTemplate>
    <ControlTemplate x:Key="TimeInBubbleGiftTemplate" TargetType="ContentControl">
        <Border CornerRadius="12,8,16,12" HorizontalAlignment="Center" Background="{ThemeResource BubbleGiftBrush}">
            <ContentPresenter FontSize="12" Margin="8,4,8,4" Foreground="{ThemeResource BubbleGiftForegroundSecondaryBrush}" Content="{TemplateBinding Content}"/>
        </Border>
    </ControlTemplate>
    <ControlTemplate x:Key="SenderNameInBubbleTemplate" TargetType="ContentControl">
        <TextBlock FontSize="14" Foreground="{ThemeResource VKImTextNameBrush}" FontWeight="Medium" MaxLines="1" TextWrapping="Wrap" Text="{TemplateBinding Content}"/>
    </ControlTemplate>
    
    <!-- Legacy -->

    <DataTemplate x:Key="DefaultIncomingBubbleTemplateLegacy">
        <StackPanel CornerRadius="16" Background="{ThemeResource VKImBubbleIncomingBrush}"/>
    </DataTemplate>
    <DataTemplate x:Key="DefaultOutgoingBubbleTemplateLegacy">
        <StackPanel CornerRadius="16" Background="{ThemeResource VKImBubbleOutgoingBrush}"/>
    </DataTemplate>
    <DataTemplate x:Key="GiftBubbleTemplateLegacy">
        <StackPanel CornerRadius="16" Background="{ThemeResource VKImBubbleGiftBackgroundBrush}"/>
    </DataTemplate>
    <ControlTemplate x:Key="InlineKeyboardContainerTemplateLegacy">
        <ContentPresenter CornerRadius="0,0,16,16" Background="{ThemeResource VKImBubbleIncomingBrush}"/>
    </ControlTemplate>
    <ControlTemplate x:Key="TimeInBubbleImageTemplateLegacy" TargetType="ContentControl">
        <Border CornerRadius="12" HorizontalAlignment="Center" Background="#80000000" RequestedTheme="Dark">
            <ContentPresenter FontSize="12" Margin="8,4,8,4" Content="{TemplateBinding Content}"/>
        </Border>
    </ControlTemplate>
    <ControlTemplate x:Key="TimeInBubbleIncomingTemplateLegacy" TargetType="ContentControl">
        <Border CornerRadius="12,8,16,12" HorizontalAlignment="Center" Background="{ThemeResource VKImBubbleIncomingBrush}">
            <ContentPresenter FontSize="12" Margin="8,4,8,4" Foreground="{ThemeResource VKTextSubheadBrush}" Content="{TemplateBinding Content}"/>
        </Border>
    </ControlTemplate>
    <ControlTemplate x:Key="TimeInBubbleOutgoingTemplateLegacy" TargetType="ContentControl">
        <Border CornerRadius="12,8,16,12" HorizontalAlignment="Center" Background="{ThemeResource VKImBubbleOutgoingBrush}">
            <ContentPresenter FontSize="12" Margin="8,4,8,4" Foreground="{ThemeResource VKTextSubheadBrush}" Content="{TemplateBinding Content}"/>
        </Border>
    </ControlTemplate>
    <ControlTemplate x:Key="TimeInBubbleGiftTemplateLegacy" TargetType="ContentControl">
        <Border CornerRadius="12,8,16,12" HorizontalAlignment="Center" Background="{ThemeResource VKImBubbleGiftBackgroundBrush}">
            <ContentPresenter FontSize="12" Margin="8,4,8,4" Content="{TemplateBinding Content}"/>
        </Border>
    </ControlTemplate>
</ResourceDictionary>
